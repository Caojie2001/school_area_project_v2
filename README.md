# ğŸ« é«˜æ ¡å»ºç­‘é¢ç§¯ç¼ºå£æµ‹ç®—ç³»ç»Ÿ V2

<div align="center">

[![Node.js](https://img.shields.io/badge/node-%3E%3D16.0.0-brightgreen)](https://nodejs.org/)
[![MySQL](https://img.shields.io/badge/mysql-%3E%3D5.7-blue)](https://www.mysql.com/)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

**ä¸“ä¸šçš„é«˜æ ¡å»ºç­‘é¢ç§¯æµ‹ç®—ä¸ç®¡ç†å¹³å°**

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

é«˜æ ¡å»ºç­‘é¢ç§¯ç¼ºå£æµ‹ç®—ç³»ç»Ÿæ˜¯é¢å‘æ•™è‚²ç®¡ç†éƒ¨é—¨å’Œé«˜æ ¡çš„ä¸“ä¸š Web å¹³å°ï¼Œç”¨äºç²¾å‡†è®¡ç®—å’Œåˆ†æé«˜æ ¡å»ºç­‘é¢ç§¯çš„è§„åˆ’éœ€æ±‚ä¸ç°çŠ¶å·®è·ã€‚

**ç³»ç»Ÿæ”¯æŒ**ï¼š
- 10ç§é™¢æ ¡ç±»å‹ï¼ˆç»¼åˆã€ç†å·¥ã€å¸ˆèŒƒã€åŒ»è¯ã€è‰ºæœ¯ç­‰ï¼‰
- 5ç§ç”¨æˆ¿ç±»å‹ï¼ˆæ•™å­¦ã€åŠå…¬ã€å®¿èˆã€ç”Ÿæ´»ã€åå‹¤ï¼‰
- å®Œæ•´çš„æ•°æ®å½•å…¥â†’è®¡ç®—â†’åˆ†æâ†’å¯¼å‡ºå·¥ä½œæµ

### ğŸ¯ æ ¸å¿ƒä»·å€¼

- **æ ‡å‡†åŒ–æµ‹ç®—** - åŸºäºæ•™è‚²éƒ¨æ ‡å‡†ï¼Œè‡ªåŠ¨è®¡ç®—å„ç±»ç”¨æˆ¿ç¼ºå£
- **å¤šç»´åº¦åˆ†æ** - æŒ‰å¹´ä»½ã€é™¢æ ¡ç±»å‹ã€å­¦æ ¡è¿›è¡Œç»Ÿè®¡åˆ†æ
- **æƒé™åˆ†çº§** - ç®¡ç†å‘˜/åŸºå»ºä¸­å¿ƒ/å­¦æ ¡ä¸‰çº§æƒé™ä½“ç³»
- **æ•°æ®è¿½æº¯** - å®Œæ•´å†å²è®°å½•ä¿å­˜å’Œæ•°æ®å›æº¯
- **å®‰å…¨å¯é ** - HTTPSåŠ å¯†ã€å¯†ç åŠ å¯†ã€å¤šé‡å®‰å…¨é˜²æŠ¤

---

## âœ¨ ä¸»è¦åŠŸèƒ½

### ğŸ“ æ•°æ®ç®¡ç†
- æ™ºèƒ½è¡¨å•ï¼ˆè‡ªåŠ¨åŠ è½½è§„åˆ’å­¦ç”Ÿæ•°æ®ï¼‰
- 5ç§ç”¨æˆ¿ç±»å‹ Ã— 7ä¸ªç»´åº¦é¢ç§¯å½•å…¥
- ç‰¹æ®Šè¡¥åŠ©é¡¹ç›®åŠ¨æ€ç®¡ç†
- å†å²è®°å½•è¿½æº¯å’ŒæŸ¥è¯¢

### ğŸ”¢ æ™ºèƒ½è®¡ç®—
- å¤šé˜¶æ®µé¢ç§¯è®¡ç®—ï¼ˆç°æœ‰/è§„åˆ’/åœ¨å»º/æ±‡æ€»/åº”é…/ç¼ºå£ï¼‰
- åŸºç¡€é¢ç§¯ + è¡¥è´´é¢ç§¯æ™ºèƒ½å åŠ 
- åŒé‡ç¼ºå£åˆ†æï¼ˆå«/ä¸å«ç‰¹æ®Šè¡¥åŠ©ï¼‰
- å®æ—¶è®¡ç®—é¢„è§ˆ

### ğŸ“Š ç»Ÿè®¡åˆ†æ
- æ€»ä½“æ¦‚è§ˆå’Œå…³é”®æŒ‡æ ‡
- æŒ‰é™¢æ ¡ç±»å‹åˆ†ç»„ç»Ÿè®¡ï¼ˆ10ç§ï¼‰
- å¤šå¹´åº¦è¶‹åŠ¿å›¾è¡¨
- æ‰¹é‡å¯¼å‡ºExcel

### ğŸ‘¥ ç”¨æˆ·æƒé™
- **ç®¡ç†å‘˜** - ç”¨æˆ·ç®¡ç†ã€æ ‡å‡†é…ç½®
- **åŸºå»ºä¸­å¿ƒ** - å…¨å±€æŸ¥çœ‹ã€ç»Ÿè®¡åˆ†æ
- **å­¦æ ¡ç”¨æˆ·** - æœ¬æ ¡æ•°æ®å½•å…¥æŸ¥çœ‹

### âš™ï¸ æ ‡å‡†é…ç½®
- åŸºç¡€é¢ç§¯æ ‡å‡†ç®¡ç†
- è¡¥è´´é¢ç§¯æ ‡å‡†ç®¡ç†
- å­¦æ ¡ç±»å‹æ˜ å°„
- æ ‡å‡†ç‰ˆæœ¬æ§åˆ¶

---

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **Node.js 16+** - JavaScriptè¿è¡Œæ—¶
- **Express.js 4.18** - Webæ¡†æ¶ï¼ˆMVCæ¶æ„ï¼‰
- **MySQL 5.7+** - å…³ç³»å‹æ•°æ®åº“
- **BCrypt** - å¯†ç åŠ å¯†
- **Helmet 7+** - HTTPå®‰å…¨å¤´
- **express-rate-limit 7+** - è¯·æ±‚é™æµ
- **XLSX** - Excelå¤„ç†

### æ¶æ„æ¨¡å¼
- **MVCåˆ†å±‚æ¶æ„** - Models(dataService) / Controllers / Routes
- **ä¸­é—´ä»¶ç³»ç»Ÿ** - è®¤è¯ã€é™æµã€é”™è¯¯å¤„ç†
- **æ¨¡å—åŒ–è®¾è®¡** - 8ä¸ªç‹¬ç«‹ä¸šåŠ¡æ¨¡å—

### å‰ç«¯æŠ€æœ¯æ ˆ
- **åŸç”ŸJavaScript (ES6+)** - æ— æ¡†æ¶ä¾èµ–
- **æ¨¡å—åŒ–CSS** - 9ä¸ªç‹¬ç«‹æ ·å¼æ¨¡å—
- **å“åº”å¼è®¾è®¡** - é€‚é…å¤šç§å±å¹•

### æ•°æ®åº“è®¾è®¡
6ä¸ªæ ¸å¿ƒæ•°æ®è¡¨ï¼š
- `users` - ç”¨æˆ·è¡¨ï¼ˆ3ç§è§’è‰²ï¼‰
- `school_registry` - å­¦æ ¡æ³¨å†Œè¡¨ï¼ˆ29æ‰€é«˜æ ¡ï¼ŒåŠ¨æ€ç±»å‹æ˜ å°„ï¼‰
- `calculation_history` - è®¡ç®—å†å²ï¼ˆå®Œæ•´å­—æ®µè®°å½•ï¼‰
- `special_subsidies` - ç‰¹æ®Šè¡¥åŠ©
- `basic_area_standards` - åŸºç¡€æ ‡å‡†ï¼ˆ10ç§é™¢æ ¡ç±»å‹ï¼‰
- `subsidized_area_standards` - è¡¥è´´æ ‡å‡†ï¼ˆåŠ¨æ€åŠ è½½ï¼‰

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 16.0.0
- MySQL >= 5.7
- npm >= 8.0.0

### å®‰è£…æ­¥éª¤

**1. å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/Caojie2001/school_area_project_v2.git
cd school_area_project_v2
```

**2. å®‰è£…ä¾èµ–**
```bash
npm install
```

**3. é…ç½®æ•°æ®åº“**
```bash
# å¯åŠ¨MySQL
brew services start mysql  # macOS
# æˆ–
sudo systemctl start mysql  # Linux

# å¯¼å…¥æ•°æ®åº“
mysql -u root -p < db.sql
```

**4. é…ç½®ç¯å¢ƒå˜é‡**

åˆ›å»º `.env` æ–‡ä»¶ï¼š
```env
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=school_area_management

PORT=3000
SESSION_SECRET=your-secret-key
NODE_ENV=development
```

**5. å¯åŠ¨æœåŠ¡**
```bash
npm start
```

**6. è®¿é—®ç³»ç»Ÿ**

æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:3000

é»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼š
```
ç”¨æˆ·å: admin
å¯†ç : admin123456
```

âš ï¸ **é¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹å¯†ç ï¼**

---

## ğŸ“– ä½¿ç”¨è¯´æ˜

### ç®¡ç†å‘˜æ“ä½œ
1. ç™»å½•ç³»ç»Ÿ â†’ ä¿®æ”¹é»˜è®¤å¯†ç 
2. åˆ›å»ºç”¨æˆ·ï¼ˆåŸºå»ºä¸­å¿ƒã€å­¦æ ¡è´¦å·ï¼‰
3. é…ç½®æ ‡å‡†ï¼ˆæ£€æŸ¥åŸºç¡€/è¡¥è´´æ ‡å‡†ï¼‰
4. æ—¥å¸¸ç®¡ç†ï¼ˆç”¨æˆ·ç®¡ç†ã€æ•°æ®å®¡æ ¸ï¼‰

### åŸºå»ºä¸­å¿ƒæ“ä½œ
1. æŸ¥çœ‹ç»Ÿè®¡åˆ†æï¼ˆæ€»ä½“æ¦‚è§ˆã€é™¢æ ¡åˆ†æï¼‰
2. æ‰¹é‡å¯¼å‡ºExcelæŠ¥è¡¨
3. æŸ¥çœ‹æ‰€æœ‰å­¦æ ¡å†å²è®°å½•

### å­¦æ ¡ç”¨æˆ·æ“ä½œ

**æ•°æ®å½•å…¥æµç¨‹ï¼š**
1. é€‰æ‹©å­¦æ ¡å’Œå¹´ä»½
2. å½•å…¥/ç¡®è®¤å­¦ç”Ÿæ•°æ®ï¼ˆ8ä¸ªå­—æ®µï¼‰
3. å½•å…¥ç°çŠ¶é¢ç§¯ï¼ˆ5ç§ç”¨æˆ¿ Ã— 7ä¸ªç»´åº¦ï¼‰
4. æ·»åŠ ç‰¹æ®Šè¡¥åŠ©ï¼ˆå¯é€‰ï¼‰
5. æäº¤ä¿å­˜
6. ä¸‹è½½ExcelæŠ¥è¡¨

**å†å²è®°å½•æŸ¥è¯¢ï¼š**
- æŸ¥çœ‹æœ¬æ ¡å†å²è®°å½•
- æŒ‰å¹´ä»½ç­›é€‰
- æŸ¥çœ‹è¯¦ç»†æ•°æ®
- é‡æ–°ä¸‹è½½Excel

---

## ğŸ” å®‰å…¨ç‰¹æ€§

### è®¤è¯ä¸æˆæƒ
- âœ… Sessionä¼šè¯ç®¡ç†
- âœ… BCryptå¯†ç åŠ å¯†ï¼ˆ10è½®åŠ ç›ï¼‰
- âœ… ä¸‰çº§æƒé™æ§åˆ¶ï¼ˆRBACï¼‰
- âœ… è·¯ç”±ä¸­é—´ä»¶ä¿æŠ¤

### æ•°æ®å®‰å…¨
- âœ… SQLæ³¨å…¥é˜²æŠ¤ï¼ˆå‚æ•°åŒ–æŸ¥è¯¢ï¼‰
- âœ… XSSé˜²æŠ¤ï¼ˆHelmet CSPï¼‰
- âœ… CSRFä¿æŠ¤
- âœ… è·¯å¾„ç©¿è¶Šé˜²æŠ¤

### ä¼ è¾“å®‰å…¨
- âœ… HTTPS/SSLæ”¯æŒ
- âœ… Secure Cookie
- âœ… CORSé…ç½®

### HTTPå®‰å…¨å¤´ï¼ˆHelmet v7+ï¼‰
- Content-Security-Policy
- X-Content-Type-Options
- X-Frame-Options
- Strict-Transport-Security

### è¯·æ±‚é™æµï¼ˆexpress-rate-limit v7+ï¼‰

| æ¥å£ | é™åˆ¶ | æ—¶é—´çª—å£ | é˜²å¾¡ç›®çš„ |
|------|------|---------|---------|
| `/api/auth/login` | 5æ¬¡ | 15åˆ†é’Ÿ | é˜²æš´åŠ›ç ´è§£ |
| `/api/*` | 100æ¬¡ | 15åˆ†é’Ÿ | é˜²APIæ»¥ç”¨ |
| `/online-calculate` | 20æ¬¡ | 1åˆ†é’Ÿ | é˜²èµ„æºæ»¥ç”¨ |
| `/api/download-record/:id` | 10æ¬¡ | 1åˆ†é’Ÿ | é˜²æ•°æ®çˆ¬å– |
| `/api/batch-export` | 5æ¬¡ | 1åˆ†é’Ÿ | é˜²æ‰¹é‡æ»¥ç”¨ |

---

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
./test/run_all_tests.sh

# åªè¿è¡Œå®‰å…¨æµ‹è¯•
./test/test_security.sh
```

### æµ‹è¯•å†…å®¹
- âœ… HTTPå®‰å…¨å“åº”å¤´éªŒè¯ï¼ˆHelmetï¼‰
- âœ… ç™»å½•æ¥å£é™æµæµ‹è¯•ï¼ˆé˜²æš´åŠ›ç ´è§£ï¼‰
- âœ… APIé€šç”¨é™æµæµ‹è¯•
- âœ… ä¸‹è½½æ¥å£é™æµæµ‹è¯•ï¼ˆé˜²æ•°æ®çˆ¬å–ï¼‰
- âœ… è®¡ç®—æ¥å£é™æµæµ‹è¯•ï¼ˆé˜²èµ„æºæ»¥ç”¨ï¼‰

### æŸ¥çœ‹æµ‹è¯•ç»“æœ

```bash
# æŸ¥çœ‹é™æµè§¦å‘æ—¥å¿—
grep "é™æµè§¦å‘" logs/combined.log

# æ‰¾å‡ºè¢«é™æµæœ€å¤šçš„IP
grep "é™æµè§¦å‘" logs/combined.log | grep -oP 'IP: \K[0-9.]+' | sort | uniq -c | sort -nr
```

**æ›´å¤šæµ‹è¯•æ–‡æ¡£**ï¼šæŸ¥çœ‹ [test/README.md](test/README.md)

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
school_area_project_250922/
â”œâ”€â”€ ğŸ“‚ config/                    # é…ç½®å±‚
â”‚   â”œâ”€â”€ database.js              # æ•°æ®åº“è¿æ¥æ± 
â”‚   â”œâ”€â”€ authService.js           # è®¤è¯æœåŠ¡
â”‚   â”œâ”€â”€ dataService.js           # æ•°æ®æœåŠ¡ (2161è¡Œ)
â”‚   â”œâ”€â”€ routes.js                # è·¯ç”±æ³¨å†Œ
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·æ¨¡å— (NEW)
â”‚   â”‚   â”œâ”€â”€ helpers.js           # é€šç”¨å·¥å…·å‡½æ•° (120è¡Œ)
â”‚   â”‚   â”œâ”€â”€ calculator.js        # è®¡ç®—å¼•æ“ (280è¡Œ)
â”‚   â”‚   â””â”€â”€ excelGenerator.js    # Excelç”Ÿæˆå™¨ (330è¡Œ)
â”‚   â”œâ”€â”€ controllers/             # åœ¨çº¿è®¡ç®—æ§åˆ¶å™¨ (NEW)
â”‚   â”‚   â””â”€â”€ online.controller.js # åœ¨çº¿è®¡ç®—å¤„ç† (650è¡Œ)
â”‚   â”œâ”€â”€ routes/                  # åœ¨çº¿è®¡ç®—è·¯ç”± (NEW)
â”‚   â”‚   â””â”€â”€ online.routes.js     # åœ¨çº¿è·¯ç”±å®šä¹‰ (60è¡Œ)
â”‚   â””â”€â”€ certs/                   # SSLè¯ä¹¦
â”œâ”€â”€ ğŸ“‚ controllers/               # æ§åˆ¶å™¨å±‚ (MVC)
â”‚   â”œâ”€â”€ auth.controller.js       # è®¤è¯æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ data.controller.js       # æ•°æ®ç®¡ç†
â”‚   â”œâ”€â”€ download.controller.js   # ä¸‹è½½å¯¼å‡º (1442è¡Œ)
â”‚   â”œâ”€â”€ school.controller.js     # å­¦æ ¡ç®¡ç†
â”‚   â”œâ”€â”€ standards.controller.js  # æ ‡å‡†é…ç½®
â”‚   â”œâ”€â”€ statistics.controller.js # ç»Ÿè®¡åˆ†æ
â”‚   â”œâ”€â”€ record.controller.js     # è®°å½•ç®¡ç†
â”‚   â””â”€â”€ system.controller.js     # ç³»ç»Ÿç®¡ç†
â”œâ”€â”€ ğŸ“‚ routes/                    # è·¯ç”±å±‚
â”‚   â”œâ”€â”€ auth.routes.js           # è®¤è¯è·¯ç”±
â”‚   â”œâ”€â”€ data.routes.js           # æ•°æ®è·¯ç”±
â”‚   â”œâ”€â”€ download.routes.js       # ä¸‹è½½è·¯ç”±
â”‚   â”œâ”€â”€ school.routes.js         # å­¦æ ¡è·¯ç”±
â”‚   â”œâ”€â”€ standards.routes.js      # æ ‡å‡†è·¯ç”±
â”‚   â”œâ”€â”€ statistics.routes.js     # ç»Ÿè®¡è·¯ç”±
â”‚   â”œâ”€â”€ record.routes.js         # è®°å½•è·¯ç”±
â”‚   â””â”€â”€ system.routes.js         # ç³»ç»Ÿè·¯ç”±
â”œâ”€â”€ ğŸ“‚ middleware/                # ä¸­é—´ä»¶å±‚
â”‚   â”œâ”€â”€ auth.middleware.js       # è®¤è¯ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ rateLimiter.middleware.js # é™æµä¸­é—´ä»¶
â”‚   â”œâ”€â”€ security.middleware.js   # å®‰å…¨ä¸­é—´ä»¶ (159è¡Œ, NEW)
â”‚   â””â”€â”€ static.middleware.js     # é™æ€æ–‡ä»¶ä¸­é—´ä»¶ (88è¡Œ, NEW)
â”œâ”€â”€ ğŸ“‚ public/                    # å‰ç«¯èµ„æº
â”‚   â”œâ”€â”€ html/                    # é¡µé¢æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ data-entry-new.html  # æ•°æ®å½•å…¥ï¼ˆæ–°ç‰ˆï¼‰
â”‚   â”‚   â”œâ”€â”€ area-management.html # é¢ç§¯ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ student-planning.html # å­¦ç”Ÿè§„åˆ’
â”‚   â”‚   â”œâ”€â”€ data-management.html # å†å²è®°å½•
â”‚   â”‚   â”œâ”€â”€ statistics.html      # ç»Ÿè®¡åˆ†æ
â”‚   â”‚   â”œâ”€â”€ calculation-standards.html # æ ‡å‡†é…ç½®
â”‚   â”‚   â””â”€â”€ user-management.html # ç”¨æˆ·ç®¡ç†
â”‚   â”œâ”€â”€ js/                      # JavaScriptæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ api.js               # APIå°è£…
â”‚   â”‚   â”œâ”€â”€ auth.js              # è®¤è¯é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ dataEntryNew.js      # æ•°æ®å½•å…¥
â”‚   â”‚   â”œâ”€â”€ areaManagement.js    # é¢ç§¯ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ studentPlanning.js   # å­¦ç”Ÿè§„åˆ’
â”‚   â”‚   â”œâ”€â”€ dataManagement.js    # å†å²è®°å½•
â”‚   â”‚   â”œâ”€â”€ statistics.js        # ç»Ÿè®¡åˆ†æ
â”‚   â”‚   â”œâ”€â”€ calculationStandards.js # æ ‡å‡†é…ç½®
â”‚   â”‚   â”œâ”€â”€ userManagement.js    # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ componentManager.js  # ç»„ä»¶ç®¡ç†
â”‚   â”‚   â””â”€â”€ utils.js             # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ css/                     # æ ·å¼æ–‡ä»¶ (9ä¸ªæ¨¡å—)
â”‚   â””â”€â”€ components/              # å¯å¤ç”¨ç»„ä»¶
â”œâ”€â”€ ğŸ“‚ scripts/                   # å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ db.sql                   # æ•°æ®åº“åˆå§‹åŒ– (814è¡Œ)
â”‚   â””â”€â”€ seed_users.js            # ç”¨æˆ·æ‰¹é‡åˆ›å»º
â”œâ”€â”€ ğŸ“‚ test/                      # æµ‹è¯•ç›®å½•
â”‚   â”œâ”€â”€ README.md                # æµ‹è¯•æ–‡æ¡£
â”‚   â””â”€â”€ test_security.sh         # å®‰å…¨æµ‹è¯•
â”œâ”€â”€ ğŸ“‚ docs/                      # é¡¹ç›®æ–‡æ¡£
â”‚   â””â”€â”€ PROJECT_STRUCTURE.md     # ç»“æ„è¯¦è§£
â”œâ”€â”€ ğŸ“‚ docker/                    # Dockeré…ç½®
â”‚   â””â”€â”€ README.md                # å®¹å™¨åŒ–æ–‡æ¡£
â”œâ”€â”€ ğŸ“‚ backups/                   # å¤‡ä»½æ–‡ä»¶
â”‚   â”œâ”€â”€ server.js.backup_20251024 # ä»£ç å¤‡ä»½
â”‚   â”œâ”€â”€ database/                # æ•°æ®åº“å¤‡ä»½
â”‚   â””â”€â”€ frontend_old/            # å‰ç«¯æ—§ç‰ˆæœ¬
â”œâ”€â”€ ğŸ“‚ logs/                      # è¿è¡Œæ—¥å¿—
â”œâ”€â”€ ğŸ“‚ output/                    # å¯¼å‡ºæ–‡ä»¶
â”œâ”€â”€ ğŸ“„ server.js                  # Expressä¸»æœåŠ¡å™¨ (212è¡Œ, ä¼˜åŒ–å)
â”œâ”€â”€ ğŸ“„ package.json               # é¡¹ç›®é…ç½®
â””â”€â”€ ğŸ“„ README.md                  # é¡¹ç›®æ–‡æ¡£
```

### ä»£ç ç»Ÿè®¡

#### æ•´ä½“ç»Ÿè®¡
- **æ€»ä»£ç è¡Œæ•°**: ~10,000+ è¡Œ
- **åç«¯ä»£ç **: ~7,000 è¡Œ
- **å‰ç«¯ä»£ç **: ~3,000 è¡Œ
- **æ•°æ®åº“è„šæœ¬**: 814 è¡Œ
- **æµ‹è¯•è„šæœ¬**: å®Œæ•´å®‰å…¨æµ‹è¯•å¥—ä»¶

#### æ ¸å¿ƒæ–‡ä»¶è¡Œæ•°
- `server.js`: **212è¡Œ** (ä¼˜åŒ–åï¼ŒåŸ2001è¡Œ â†’ 362è¡Œ â†’ 212è¡Œ)
- `config/dataService.js`: 2,161è¡Œ
- `controllers/download.controller.js`: 1,442è¡Œ
- `config/utils/excelGenerator.js`: 330è¡Œ (æ–°å¢)
- `config/controllers/online.controller.js`: 650è¡Œ (æ–°å¢)
- `config/utils/calculator.js`: 280è¡Œ (æ–°å¢)
- `middleware/security.middleware.js`: 159è¡Œ (æ–°å¢)
- `config/utils/helpers.js`: 120è¡Œ (æ–°å¢)
- `middleware/static.middleware.js`: 88è¡Œ (æ–°å¢)

---

## ğŸ“š é¡¹ç›®æ–‡æ¡£

å®Œæ•´æ–‡æ¡£ä½äºä»¥ä¸‹ç›®å½•ï¼š

- **[é¡¹ç›®ç»“æ„æ–‡æ¡£](docs/PROJECT_STRUCTURE.md)** - è¯¦ç»†ä»£ç ç»“æ„è¯´æ˜
- **[Dockeré…ç½®](docker/README.md)** - å®¹å™¨åŒ–éƒ¨ç½²æŒ‡å—
- **[æµ‹è¯•æ–‡æ¡£](test/README.md)** - æµ‹è¯•å¥—ä»¶ä½¿ç”¨è¯´æ˜
- **[å¤‡ä»½è¯´æ˜](backups/README.md)** - æ•°æ®å¤‡ä»½å’Œæ¢å¤

---

## ğŸ³ Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -f docker/Dockerfile -t school-area-system .

# è¿è¡Œå®¹å™¨
docker run -d \
  --name school-area-system \
  -p 3000:3000 \
  -e DB_HOST=your_db_host \
  -e DB_USER=your_db_user \
  -e DB_PASSWORD=your_db_password \
  school-area-system
```

**æ›´å¤šä¿¡æ¯**ï¼šæŸ¥çœ‹ [docker/README.md](docker/README.md)

---

## ï¿½ ç‰ˆæœ¬å†å²

### v2.3.0 (2025-10-24) ğŸ‰ NEW
**æ¨¡å—åŒ–æ¶æ„æ·±åº¦ä¼˜åŒ–**

**server.jsä¸¤é˜¶æ®µä¼˜åŒ–**ï¼š
- ç¬¬ä¸€é˜¶æ®µï¼š5,465è¡Œ â†’ 362è¡Œ â†’ 2,001è¡Œ â†’ 362è¡Œ (-81.9%)
- ç¬¬äºŒé˜¶æ®µï¼š362è¡Œ â†’ **212è¡Œ** (-41.4%)
- **æ€»ä½“ä¼˜åŒ–ï¼š2,001è¡Œ â†’ 212è¡Œ (-89.4%)**

**æ–°å¢7ä¸ªæ¨¡å—æ–‡ä»¶**ï¼š
- âœ… `config/utils/helpers.js` (120è¡Œ) - é€šç”¨å·¥å…·å‡½æ•°
- âœ… `config/utils/calculator.js` (280è¡Œ) - è®¡ç®—å¼•æ“
- âœ… `config/utils/excelGenerator.js` (330è¡Œ) - Excelç”Ÿæˆå™¨
- âœ… `config/controllers/online.controller.js` (650è¡Œ) - åœ¨çº¿è®¡ç®—æ§åˆ¶å™¨
- âœ… `config/routes/online.routes.js` (60è¡Œ) - åœ¨çº¿è·¯ç”±å®šä¹‰
- âœ… `middleware/security.middleware.js` (159è¡Œ) - SSL+Helmet+ä¼šè¯+å®‰å…¨éªŒè¯
- âœ… `middleware/static.middleware.js` (88è¡Œ) - é™æ€æ–‡ä»¶+é¡µé¢è·¯ç”±

**æ¶æ„æ”¹è¿›**ï¼š
- âœ… 9ä¸ªæ§åˆ¶å™¨ + 9ä¸ªè·¯ç”±æ¨¡å—
- âœ… 3ä¸ªå·¥å…·æ¨¡å—ï¼ˆhelpers, calculator, excelGeneratorï¼‰
- âœ… 4ä¸ªä¸­é—´ä»¶ï¼ˆauth, rateLimiter, security, staticï¼‰
- âœ… server.jsèŒè´£å•ä¸€åŒ–ï¼šç»„è£…å’Œå¯åŠ¨
- âœ… æµ‹è¯•é€šè¿‡ï¼šæ‰€æœ‰åŠŸèƒ½éªŒè¯æ­£å¸¸

### v2.2.0 (2025-10-24)
- âœ… MVCæ¶æ„é‡æ„å®Œæˆ
- âœ… server.js ä» 5,465 è¡Œç²¾ç®€åˆ° 2,001 è¡Œï¼ˆ-64%ï¼‰
- âœ… 8ä¸ªæ§åˆ¶å™¨ + 8ä¸ªè·¯ç”±æ¨¡å—åŒ–
- âœ… ç§»é™¤ç¡¬ç¼–ç å­¦æ ¡ç±»å‹æ˜ å°„
- âœ… å­¦æ ¡ç±»å‹æ”¹ä¸ºæ•°æ®åº“åŠ¨æ€æŸ¥è¯¢
- âœ… é™æµç­–ç•¥è°ƒæ•´ä¸º 4x
- âœ… å¤‡ä»½æ–‡ä»¶æ•´ç†å®Œæˆ

### v2.1.1 (2025-10-23)
- âœ… å®Œæ•´å®‰å…¨æµ‹è¯•å¥—ä»¶
- âœ… Helmet 7+ å®‰å…¨å¤´
- âœ… 5çº§é™æµç­–ç•¥
- âœ… æµ‹è¯•æ–‡æ¡£å®Œå–„

### v2.1.0 (2025-09-18)
- âœ… å‰ç«¯æ¨¡å—åŒ–é‡æ„
- âœ… 9ä¸ªç‹¬ç«‹CSSæ¨¡å—
- âœ… 14ä¸ªJavaScriptæ¨¡å—
- âœ… ç»„ä»¶åŒ–è®¾è®¡

---

## ï¿½ğŸ”— ç›¸å…³é“¾æ¥

- [GitHub ä»“åº“](https://github.com/Caojie2001/school_area_project_v2)
- [é—®é¢˜åé¦ˆ](https://github.com/Caojie2001/school_area_project_v2/issues)
- [åœ¨çº¿æ–‡æ¡£](https://github.com/Caojie2001/school_area_project_v2/tree/main/docs)
- [å˜æ›´æ—¥å¿—](https://github.com/Caojie2001/school_area_project_v2/releases)

---

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ‘¥ è”ç³»æ–¹å¼

- **é¡¹ç›®è´Ÿè´£äºº**: Caojie
- **GitHub**: [@Caojie2001](https://github.com/Caojie2001)
- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/Caojie2001/school_area_project_v2/issues)

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š
- [Node.js](https://nodejs.org/)
- [Express.js](https://expressjs.com/)
- [MySQL](https://www.mysql.com/)
- [Helmet](https://helmetjs.github.io/)
- [SheetJS](https://sheetjs.com/)

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç»™ä¸ª Star â­**

Made with â¤ï¸ by [Caojie](https://github.com/Caojie2001)

</div>
